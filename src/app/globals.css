@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   PALETTE — Light & Dark (Google-style: clear hierarchy, highlight, accessibility)
   Base: #fbfbf9 (surface) · #e8eae6 (surface-variant) · #1c1f24 (on-surface)
   Primary: #2563eb · Secondary: #0d9488 · Tertiary: #7c3aed
   All backgrounds use these semantic variables (--color-surface, --color-surface-variant,
   --color-card-bg, --color-primary-container, etc.) so theme stays consistent.
   ============================================================================= */

/* --- Light mode (default) --- */
:root,
[data-theme="light"] {
  /* Swatches */
  --palette-cream: #fbfbf9;
  --palette-warm-gray: #e8eae6;
  --palette-dark: #1c1f24;
  --palette-primary: #2563eb;
  --palette-primary-dark: #1d4ed8;
  --palette-secondary: #0d9488;
  --palette-tertiary: #7c3aed;
  --palette-coral: #e5533d;
  --palette-coral-dark: #cf4632;
  --palette-mint: #2dd4bf;

  /* Semantic (light) */
  --color-surface: #fbfbf9;
  --color-surface-variant: #e8eae6;
  --color-on-surface: #1c1f24;
  --color-on-surface-variant: #4a4d52;
  --color-placeholder: #d0d2d6;
  --color-input-bg: #f0f0ee;
  --color-outline: #c4c6c3;

  --color-primary: #2563eb;
  --color-primary-hover: #1d4ed8;
  --color-on-primary: #ffffff;

  /* Nav / highlight container (primary tint) */
  --color-primary-container: #dbeafe;
  --color-on-primary-container: #1e40af;

  /* Secondary accent (links, badges, highlights) */
  --color-secondary: #0d9488;
  --color-secondary-container: #ccfbf1;
  --color-on-secondary: #ffffff;
  --color-on-secondary-container: #134e4a;

  /* Tertiary (optional emphasis) */
  --color-tertiary: #7c3aed;
  --color-tertiary-container: #ede9fe;

  --color-error: #dc2626;
  --color-error-bg: #fef2f2;

  --color-card-bg: #ffffff;
  --color-card-text: #1c1f24;

  /* Buttons (light) */
  --color-btn-primary-bg: #2563eb;
  --color-btn-primary-bg-hover: #1d4ed8;
  --color-btn-primary-text: #ffffff;
  --color-btn-secondary-bg: #e8eae6;
  --color-btn-secondary-bg-hover: #d4d6d3;
  --color-btn-secondary-text: #1c1f24;
  --color-btn-danger-bg: #dc2626;
  --color-btn-danger-bg-hover: #b91c1c;
  --color-btn-danger-text: #ffffff;
  --color-badge-success-bg: #2dd4bf;
  --color-badge-success-text: #134e4a;

  --header-height: 56px;
  --radius: 8px;
  --shadow-sm: 0 1px 2px 0 rgb(28 31 36 / 8%), 0 1px 3px 1px rgb(28 31 36 / 6%);
  --shadow-md: 0 1px 3px 0 rgb(28 31 36 / 10%), 0 4px 8px 3px rgb(28 31 36 / 8%);
}

/* --- Dark mode (system or data-theme) --- */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --color-surface: #1c1f24;
    --color-surface-variant: #262a31;
    --color-on-surface: #f4f4f5;
    --color-on-surface-variant: #a1a1aa;
    --color-placeholder: #3d414a;
    --color-input-bg: #252830;
    --color-outline: #3f3f46;

    --color-primary: #60a5fa;
    --color-primary-hover: #93c5fd;
    --color-on-primary: #1e3a8a;

    --color-primary-container: #1e3a8a;
    --color-on-primary-container: #bfdbfe;

    --color-secondary: #2dd4bf;
    --color-secondary-container: #134e4a;
    --color-on-secondary: #134e4a;
    --color-on-secondary-container: #99f6e4;

    --color-tertiary: #a78bfa;
    --color-tertiary-container: #4c1d95;

    --color-error: #f87171;
    --color-error-bg: rgba(248, 113, 113, 0.18);

    --color-card-bg: #2d3036;
    --color-card-text: #f4f4f5;

    --color-btn-primary-bg: #3b82f6;
    --color-btn-primary-bg-hover: #60a5fa;
    --color-btn-primary-text: #ffffff;
    --color-btn-secondary-bg: #3f3f46;
    --color-btn-secondary-bg-hover: #52525b;
    --color-btn-secondary-text: #f4f4f5;
    --color-btn-danger-bg: #dc2626;
    --color-btn-danger-bg-hover: #ef4444;
    --color-btn-danger-text: #ffffff;
    --color-badge-success-bg: #2dd4bf;
    --color-badge-success-text: #134e4a;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 24%), 0 1px 3px 1px rgb(0 0 0 / 18%);
    --shadow-md: 0 1px 3px 0 rgb(0 0 0 / 24%), 0 4px 8px 3px rgb(0 0 0 / 18%);
  }
}

/* Manual dark theme (when data-theme="dark" is set on html) */
[data-theme="dark"] {
  --color-surface: #1c1f24;
  --color-surface-variant: #262a31;
  --color-on-surface: #f4f4f5;
  --color-on-surface-variant: #a1a1aa;
  --color-placeholder: #3d414a;
  --color-input-bg: #252830;
  --color-outline: #3f3f46;

  --color-primary: #60a5fa;
  --color-primary-hover: #93c5fd;
  --color-on-primary: #1e3a8a;

  --color-primary-container: #1e3a8a;
  --color-on-primary-container: #bfdbfe;

  --color-secondary: #2dd4bf;
  --color-secondary-container: #134e4a;
  --color-on-secondary-container: #99f6e4;

  --color-tertiary: #a78bfa;
  --color-tertiary-container: #4c1d95;

  --color-error: #f87171;
  --color-error-bg: rgba(248, 113, 113, 0.18);

  --color-card-bg: #27272a;
  --color-card-text: #f4f4f5;

  --color-btn-primary-bg: #3b82f6;
  --color-btn-primary-bg-hover: #60a5fa;
  --color-btn-primary-text: #ffffff;
  --color-btn-secondary-bg: #3f3f46;
  --color-btn-secondary-bg-hover: #52525b;
  --color-btn-secondary-text: #f4f4f5;
  --color-btn-danger-bg: #dc2626;
  --color-btn-danger-bg-hover: #ef4444;
  --color-btn-danger-text: #ffffff;
  --color-badge-success-bg: #2dd4bf;
  --color-badge-success-text: #134e4a;

  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 24%), 0 1px 3px 1px rgb(0 0 0 / 18%);
  --shadow-md: 0 1px 3px 0 rgb(0 0 0 / 24%), 0 4px 8px 3px rgb(0 0 0 / 18%);
}

/* Manual light theme override (force light even in dark system preference) */
[data-theme="light"] {
  --color-surface: #fbfbf9;
  --color-surface-variant: #e8eae6;
  --color-on-surface: #1c1f24;
  --color-on-surface-variant: #4a4d52;
  --color-placeholder: #d0d2d6;
  --color-input-bg: #f0f0ee;
  --color-outline: #c4c6c3;
  --color-primary: #2563eb;
  --color-primary-hover: #1d4ed8;
  --color-on-primary: #ffffff;
  --color-primary-container: #dbeafe;
  --color-on-primary-container: #1e40af;
  --color-secondary: #0d9488;
  --color-secondary-container: #ccfbf1;
  --color-tertiary: #7c3aed;
  --color-tertiary-container: #ede9fe;
  --color-error: #dc2626;
  --color-error-bg: #fef2f2;
  --color-card-bg: #ffffff;
  --color-card-text: #1c1f24;
  --color-btn-primary-bg: #2563eb;
  --color-btn-primary-bg-hover: #1d4ed8;
  --color-btn-primary-text: #ffffff;
  --color-btn-secondary-bg: #e8eae6;
  --color-btn-secondary-bg-hover: #d4d6d3;
  --color-btn-secondary-text: #1c1f24;
  --color-btn-danger-bg: #dc2626;
  --color-btn-danger-bg-hover: #b91c1c;
  --color-btn-danger-text: #ffffff;
  --color-badge-success-bg: #2dd4bf;
  --color-badge-success-text: #134e4a;
  --shadow-sm: 0 1px 2px 0 rgb(28 31 36 / 8%), 0 1px 3px 1px rgb(28 31 36 / 6%);
  --shadow-md: 0 1px 3px 0 rgb(28 31 36 / 10%), 0 4px 8px 3px rgb(28 31 36 / 8%);
}

/* =============================================================================
   ELEMENT TOKENS (use palette variables so they respect light/dark)
   ============================================================================= */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-lg transition-colors disabled:opacity-50;
  }
  .btn-md {
    @apply px-4 py-2.5 text-sm;
  }
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-primary {
    background-color: var(--color-btn-primary-bg);
    color: var(--color-btn-primary-text);
  }
  .btn-primary:hover:not(:disabled) {
    background-color: var(--color-btn-primary-bg-hover);
  }

  .btn-secondary {
    background-color: var(--color-btn-secondary-bg);
    color: var(--color-btn-secondary-text);
  }
  .btn-secondary:hover:not(:disabled) {
    background-color: var(--color-btn-secondary-bg-hover);
  }

  .btn-danger {
    background-color: var(--color-btn-danger-bg);
    color: var(--color-btn-danger-text);
  }
  .btn-danger:hover:not(:disabled) {
    background-color: var(--color-btn-danger-bg-hover);
  }

  .badge-success {
    @apply inline-flex items-center rounded-md px-2 py-0.5 text-sm font-medium;
    background-color: var(--color-badge-success-bg);
    color: var(--color-badge-success-text);
  }

  /* Section/card containers: sharp corners (no rounded). */
  .card {
    @apply border border-[var(--color-outline)] shadow-card;
    background-color: var(--color-card-bg);
    color: var(--color-card-text);
  }
}

@layer base {
  body {
    font-family: var(--font-roboto), "Roboto", system-ui, sans-serif;
    color: var(--color-on-surface);
    background: var(--color-surface-variant);
    -webkit-font-smoothing: antialiased;
  }

  h1 {
    @apply text-2xl font-medium tracking-tight text-[var(--color-on-surface)];
  }
  h2 {
    @apply text-xl font-medium tracking-tight text-[var(--color-on-surface)];
  }
  h3 {
    @apply text-lg font-medium text-[var(--color-on-surface)];
  }
  p {
    @apply text-[var(--color-on-surface-variant)];
  }
}

/* Focus ring — same as Company name for all form controls */
input:focus,
textarea:focus,
select:focus {
  @apply outline-none border-[var(--color-primary)] ring-2 ring-[var(--color-primary)] ring-offset-2 ring-offset-[var(--color-surface)];
}

button:focus-visible,
a:focus-visible {
  @apply outline-none ring-2 ring-[var(--color-primary)] ring-offset-2 ring-offset-[var(--color-surface)];
}

/* Placeholder text — dim so it reads as hint (e.g. "e.g. …") */
::placeholder {
  color: var(--color-placeholder);
}

/* Empty text box background (inputs, textareas, selects) */
input,
textarea,
select {
  background-color: var(--color-input-bg);
}
