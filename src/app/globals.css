@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   PALETTE — Light & Dark
   Base swatches: #fbfbf9 (ivory) · #e2e4e1 (stone) · #1c1f24 (charcoal)
                 #3b4c8a (indigo) · #e5533d (rose) · #4ecdc4 (mint)
   ============================================================================= */

/* --- Light mode (default) --- */
:root,
[data-theme="light"] {
  /* Swatches */
  --palette-cream: #fbfbf9;
  --palette-warm-gray: #e2e4e1;
  --palette-dark: #1c1f24;
  --palette-teal: #3b4c8a;
  --palette-teal-dark: #2f3e73;
  --palette-coral: #e5533d;
  --palette-coral-dark: #cf4632;
  --palette-gold: #4ecdc4;

  /* Semantic (light) */
  --color-surface: #fbfbf9;
  --color-surface-variant: #e2e4e1;
  --color-on-surface: #1c1f24;
  --color-on-surface-variant: #4a4d52;
  --color-outline: #c4c6c3;

  --color-primary: #3b4c8a;
  --color-primary-hover: #2f3e73;
  --color-on-primary: #fbfbf9;

  --color-error: #e5533d;
  --color-error-bg: #fdeceb;

  --color-card-bg: #e2e4e1;
  --color-card-text: #1c1f24;

  /* Buttons (light) */
  --color-btn-primary-bg: #3b4c8a;
  --color-btn-primary-bg-hover: #2f3e73;
  --color-btn-primary-text: #fbfbf9;
  --color-btn-secondary-bg: #e2e4e1;
  --color-btn-secondary-bg-hover: #d4d6d3;
  --color-btn-secondary-text: #1c1f24;
  --color-btn-danger-bg: #e5533d;
  --color-btn-danger-bg-hover: #cf4632;
  --color-btn-danger-text: #fbfbf9;
  --color-badge-success-bg: #4ecdc4;
  --color-badge-success-text: #1c1f24;

  --header-height: 56px;
  --radius: 8px;
  --shadow-sm: 0 1px 2px 0 rgb(28 31 36 / 8%), 0 1px 3px 1px rgb(28 31 36 / 6%);
  --shadow-md: 0 1px 3px 0 rgb(28 31 36 / 10%), 0 4px 8px 3px rgb(28 31 36 / 8%);
}

/* --- Dark mode (system or data-theme) --- */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --color-surface: #1c1f24;
    --color-surface-variant: #262a31;
    --color-on-surface: #fbfbf9;
    --color-on-surface-variant: #b8bcc4;
    --color-outline: #4a4d52;

    --color-primary: #7f8fdc;
    --color-primary-hover: #9aa7e8;
    --color-on-primary: #1c1f24;

    --color-error: #e5533d;
    --color-error-bg: rgba(229, 83, 61, 0.18);

    --color-card-bg: #262a31;
    --color-card-text: #fbfbf9;

    --color-btn-primary-bg: #7f8fdc;
    --color-btn-primary-bg-hover: #9aa7e8;
    --color-btn-primary-text: #1c1f24;
    --color-btn-secondary-bg: #3d4048;
    --color-btn-secondary-bg-hover: #4a4d56;
    --color-btn-secondary-text: #fbfbf9;
    --color-btn-danger-bg: #e5533d;
    --color-btn-danger-bg-hover: #ea6b58;
    --color-btn-danger-text: #fbfbf9;
    --color-badge-success-bg: #4ecdc4;
    --color-badge-success-text: #1c1f24;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 24%), 0 1px 3px 1px rgb(0 0 0 / 18%);
    --shadow-md: 0 1px 3px 0 rgb(0 0 0 / 24%), 0 4px 8px 3px rgb(0 0 0 / 18%);
  }
}

/* Manual dark theme (when data-theme="dark" is set on html) */
[data-theme="dark"] {
  --color-surface: #1c1f24;
  --color-surface-variant: #262a31;
  --color-on-surface: #fbfbf9;
  --color-on-surface-variant: #b8bcc4;
  --color-outline: #4a4d52;

  --color-primary: #7f8fdc;
  --color-primary-hover: #9aa7e8;
  --color-on-primary: #1c1f24;

  --color-error: #e5533d;
  --color-error-bg: rgba(229, 83, 61, 0.18);

  --color-card-bg: #262a31;
  --color-card-text: #fbfbf9;

  --color-btn-primary-bg: #7f8fdc;
  --color-btn-primary-bg-hover: #9aa7e8;
  --color-btn-primary-text: #1c1f24;
  --color-btn-secondary-bg: #3d4048;
  --color-btn-secondary-bg-hover: #4a4d56;
  --color-btn-secondary-text: #fbfbf9;
  --color-btn-danger-bg: #e5533d;
  --color-btn-danger-bg-hover: #ea6b58;
  --color-btn-danger-text: #fbfbf9;
  --color-badge-success-bg: #4ecdc4;
  --color-badge-success-text: #1c1f24;

  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 24%), 0 1px 3px 1px rgb(0 0 0 / 18%);
  --shadow-md: 0 1px 3px 0 rgb(0 0 0 / 24%), 0 4px 8px 3px rgb(0 0 0 / 18%);
}

/* Manual light theme override (force light even in dark system preference) */
[data-theme="light"] {
  --color-surface: #fbfbf9;
  --color-surface-variant: #e2e4e1;
  --color-on-surface: #1c1f24;
  --color-on-surface-variant: #4a4d52;
  --color-outline: #c4c6c3;
  --color-primary: #3b4c8a;
  --color-primary-hover: #2f3e73;
  --color-on-primary: #fbfbf9;
  --color-error: #e5533d;
  --color-error-bg: #fdeceb;
  --color-card-bg: #e2e4e1;
  --color-card-text: #1c1f24;
  --color-btn-primary-bg: #3b4c8a;
  --color-btn-primary-bg-hover: #2f3e73;
  --color-btn-primary-text: #fbfbf9;
  --color-btn-secondary-bg: #e2e4e1;
  --color-btn-secondary-bg-hover: #d4d6d3;
  --color-btn-secondary-text: #1c1f24;
  --color-btn-danger-bg: #e5533d;
  --color-btn-danger-bg-hover: #cf4632;
  --color-btn-danger-text: #fbfbf9;
  --color-badge-success-bg: #4ecdc4;
  --color-badge-success-text: #1c1f24;
  --shadow-sm: 0 1px 2px 0 rgb(28 31 36 / 8%), 0 1px 3px 1px rgb(28 31 36 / 6%);
  --shadow-md: 0 1px 3px 0 rgb(28 31 36 / 10%), 0 4px 8px 3px rgb(28 31 36 / 8%);
}

/* =============================================================================
   ELEMENT TOKENS (use palette variables so they respect light/dark)
   ============================================================================= */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-lg transition-colors disabled:opacity-50;
  }
  .btn-md {
    @apply px-4 py-2.5 text-sm;
  }
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-primary {
    background-color: var(--color-btn-primary-bg);
    color: var(--color-btn-primary-text);
  }
  .btn-primary:hover:not(:disabled) {
    background-color: var(--color-btn-primary-bg-hover);
  }

  .btn-secondary {
    background-color: var(--color-btn-secondary-bg);
    color: var(--color-btn-secondary-text);
  }
  .btn-secondary:hover:not(:disabled) {
    background-color: var(--color-btn-secondary-bg-hover);
  }

  .btn-danger {
    background-color: var(--color-btn-danger-bg);
    color: var(--color-btn-danger-text);
  }
  .btn-danger:hover:not(:disabled) {
    background-color: var(--color-btn-danger-bg-hover);
  }

  .badge-success {
    @apply inline-flex items-center rounded-md px-2 py-0.5 text-sm font-medium;
    background-color: var(--color-badge-success-bg);
    color: var(--color-badge-success-text);
  }

  .card {
    @apply rounded-lg border border-[var(--color-outline)] shadow-card;
    background-color: var(--color-card-bg);
    color: var(--color-card-text);
  }
}

@layer base {
  body {
    font-family: var(--font-roboto), "Roboto", system-ui, sans-serif;
    color: var(--color-on-surface);
    background: var(--color-surface-variant);
    -webkit-font-smoothing: antialiased;
  }

  h1 {
    @apply text-2xl font-medium tracking-tight text-[var(--color-on-surface)];
  }
  h2 {
    @apply text-xl font-medium tracking-tight text-[var(--color-on-surface)];
  }
  h3 {
    @apply text-lg font-medium text-[var(--color-on-surface)];
  }
  p {
    @apply text-[var(--color-on-surface-variant)];
  }
}

/* Focus ring */
input:focus,
button:focus-visible,
a:focus-visible {
  @apply outline-none ring-2 ring-[var(--color-primary)] ring-offset-2 ring-offset-[var(--color-surface)];
}
